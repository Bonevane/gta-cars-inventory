<%- include('../partials/header') %>
<h2><%= manufacturer.name %></h2>
<img src="https://flagcdn.com/24x18/<%= manufacturer.country %>.png" />
<p><%= manufacturer.country %></p>
<img src="<%= manufacturer.logo_url %>" alt="Logo" width="100" />

<!-- Edit Button -->
<button onclick="openEditManufacturerModal()">Edit Manufacturer</button>

<!-- Delete Form (optional) -->
<form
  action="/manufacturers/<%= manufacturer.id %>?_method=DELETE"
  method="POST"
  style="display: inline"
>
  <button type="submit" onclick="return confirm('Are you sure?')">
    Delete
  </button>
</form>

<h3>Cars from this Manufacturer</h3>
<div class="grid">
  <% cars.forEach(car => { %> <%- include('../partials/car-card', { car: car })
  %> <% }) %>
</div>
<%- include('../partials/footer') %>

<!-- Car Popup container -->
<%- include('../partials/car-popup') %>

<!-- Modal -->
<div
  id="editManufacturerModal"
  style="
    display: none;
    position: fixed;
    top: 10%;
    left: 50%;
    transform: translateX(-50%);
    background: white;
    padding: 1rem;
    border: 1px solid #ccc;
  "
>
  <h2>Edit Manufacturer</h2>
  <form
    action="/manufacturers/<%= manufacturer.id %>?_method=PUT"
    method="POST"
  >
    <label
      >Name:
      <input
        type="text"
        name="name"
        value="<%= manufacturer.name %>"
        required
      /> </label
    ><br />
    <label
      >Country:
      <input
        type="text"
        name="country"
        value="<%= manufacturer.country %>"
      /> </label
    ><br />
    <label
      >Logo URL:
      <input
        type="text"
        name="logo_url"
        value="<%= manufacturer.logo_url %>"
      /> </label
    ><br />
    <button type="submit">Save Changes</button>
    <button type="button" onclick="closeEditManufacturerModal()">Cancel</button>
  </form>
</div>